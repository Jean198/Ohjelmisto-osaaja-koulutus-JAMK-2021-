<!DOCTYPE html>
<html>
<head>
    <title>Tulosta tasoitukset</title>
</head>
<body>
        <button id="button">Tulosta tasoitukset</button>
	<ul id="hcplist"></ul>

    <script>
        var hcpdata = [{ "name": "Ari", "hcp": 54 },
                       { "name": "Pasi", "hcp": 5 },
                       { "name": "Seppo", "hcp": 20 }];
            button.addEventListener('click', addToList);
            function addToList(){
                let newlist=[];
                for (var i=0; i<hcpdata.length;i++){
                    dic=hcpdata[i];
                    newlist.push(dic.name +" "+dic.hcp)
                    }
                for (j=0;j<hcpdata.length;j++){
                        let listelem=document.createElement('li');
                        listelem.append(newlist[j]);
                        console.log(listelem)
                        document.getElementById("hcplist").appendChild(listelem)    
                    }
                button.removeEventListener('click', addToList)
                    
            }
               
        </script>    
</body>
</html>